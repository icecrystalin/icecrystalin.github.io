<html>

<body onload="master()">
    <p id="tx1">
    </p>
    <p id="tx2">
    </p>
    <p id="tx3">
    </p>
    <p id="tx4">
    </p>

    <svg id="puls" height="740" width="720" style="position:fixed; top:0px; left:0px;">
        <line id="l1" x1="100" y1="400" x2="100" y2="200" style="stroke:#000000;stroke-width:50" />
        <line id="l2" x1="100" y1="400" x2="100" y2="200" style="stroke:#000000;stroke-width:40" />
        <line id="l3" x1="100" y1="400" x2="100" y2="200" style="stroke:#000000;stroke-width:30" />
        <polygon id="t1" points="200,10 250,190 160,210" style="fill:white;stroke:black;stroke-width:1" />
    
        <line id="l4" x1="100" y1="250" x2="100" y2="200" style="stroke:#000000;stroke-width:30" />
        <circle id="c1" cx="30" cy="30" r="40" stroke="white" stroke-width="3" fill="blach" />
        <circle id="c2" cx="30" cy="30" r="30" stroke="white" stroke-width="3" fill="blach" />
        <circle id="c3" cx="30" cy="30" r="30" stroke="white" stroke-width="3" fill="blach" />
        </svg>
    <script>
        var time = 0;


        var ang = 0;
        var ang2 = 0;
        var ang3 = 0;
        var ang4 = 0;

        function master() {
            setInterval(frame, 10);
        }

        function frame() {
            var s = document.getElementById("l1");
            var s2 = document.getElementById("l2");
            var s3 = document.getElementById("l3");
            var s4 = document.getElementById("l4");
            var c1 = document.getElementById("c1");
            var c2 = document.getElementById("c2");
            var c3 = document.getElementById("c3");
            var t1 = document.getElementById("t1");
            var r = 200;
            var x = 100 + 200 * Math.cos(ang);
            var y = 400 + 200 * Math.sin(ang);
            s.setAttribute("x2", x.toString());
            s.setAttribute("y2", y.toString());
            s2.setAttribute("x1", x.toString());
            s2.setAttribute("y1", y.toString());
            c1.setAttribute("cx", x.toString());
            c1.setAttribute("cy", y.toString());
            var x2 = x + 200 * Math.cos(ang + ang2);
            var y2 = y + 200 * Math.sin(ang + ang2);
            s2.setAttribute("x2", x2.toString());
            s2.setAttribute("y2", y2.toString());
            s3.setAttribute("x1", x2.toString());
            s3.setAttribute("y1", y2.toString());
            var x3 = x2 + 200 * Math.cos(ang + ang2 + ang3);
            var y3 = y2 + 200 * Math.sin(ang + ang2 + ang3);
            c2.setAttribute("cx", x2.toString());
            c2.setAttribute("cy", y2.toString());
            s3.setAttribute("x2", x3.toString());
            s3.setAttribute("y2", y3.toString());
            c3.setAttribute("cx", x3.toString());
            c3.setAttribute("cy", y3.toString());
            s4.setAttribute("x1", x3.toString());
            s4.setAttribute("y1", y3.toString());
            var x4 = x3 + 50 * Math.cos(ang + ang2 + ang3 + ang4);
            var y4 = y3 + 50 * Math.sin(ang + ang2 + ang3 + ang4);
            s4.setAttribute("x2", x4.toString());
            s4.setAttribute("y2", y4.toString());
            var p1x = x3 + 10 * Math.cos(ang + ang2 + ang3 + ang4 + (Math.PI / 2));
            var p1y = y3 + 10 * Math.sin(ang + ang2 + ang3 + ang4 + (Math.PI / 2));
            var p2x = x3 + 10 * Math.cos(ang + ang2 + ang3 + ang4 - (Math.PI / 2));
            var p2y = y3 + 10 * Math.sin(ang + ang2 + ang3 + ang4 - (Math.PI / 2));
            var p3x = x3 + 200 * Math.cos(ang + ang2 + ang3 + ang4);
            var p3y = y3 + 200 * Math.sin(ang + ang2 + ang3 + ang4);
            t1.setAttribute("points", p1x.toString() + "," + p1y.toString() + " " + p2x.toString() + "," + p2y.toString() + " " + p3x.toString() + "," + p3y.toString());
            var oscilation_time = 100;
            ang2 = (Math.PI / 6) + (((Math.cos(time / 10) + 1) / 2) * ((Math.PI / 2) - (Math.PI / 6)));
            ang = -Math.PI / 3;
            ang3 = Math.PI / 3;
            ang4 = Math.PI / 3;
            if (ang > 5.2 + Math.PI / 3) {
                val1 = -0.01;
            }
            if (ang < 5.2 - Math.PI / 3) {
                val1 = 0.01
            }

            var tx1 = document.getElementById("tx1");
            tx1.innerHTML = ang.toString() + " ";
            var tx2 = document.getElementById("tx2");
            tx2.innerHTML = ang2.toString() + " ";
            var tx3 = document.getElementById("tx3");
            tx3.innerHTML = ang3.toString() + " ";
            var tx4 = document.getElementById("tx4");
            tx4.innerHTML = ang4.toString() + " ";
            time++;
        }
    </script>
</body>


</html>